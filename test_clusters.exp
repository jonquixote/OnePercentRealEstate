#!/usr/bin/expect -f
set timeout 60
spawn ssh -o StrictHostKeyChecking=no -o PreferredAuthentications=password -o PubkeyAuthentication=no root@157.245.184.89
expect "password:"
send "appo0-buXbym-cijzy\r"
expect "root@"

# Test the clusters API at high zoom (should return individual properties with count=1)
# Using Los Angeles area as example
send "docker exec infrastructure-postgres-1 psql -U postgres -d postgres -c \"SELECT * FROM get_property_clusters(33.9, -118.4, 34.1, -118.0, 14) LIMIT 5;\"\r"
expect "root@"

send "exit\r"
expect eof
